import{S as O,i as R,s as M,e as y,t as F,c as S,a as I,g as $,d as _,b as v,D as J,f as x,E as W,h as ee,G as B,H as re,I as Q,k as A,n as D,O as we,P as ae,j as V,m as L,o as K,x as U,u as H,v as q,Q as ce,A as le,R as ie,T as ve,U as ye,V as ke,W as Ee,X as Ce,Y as Se,Z as Ie,_ as te,$ as We,a0 as Be,a1 as Pe,C as fe}from"../../chunks/vendor-8df98ad9.js";import{p as se}from"../../chunks/stores-f191615b.js";import{b as X}from"../../chunks/paths-28a87002.js";import{_ as de}from"../../chunks/preload-helper-cc74dd90.js";var xe=`/** https://github.com/design-to-release/atomic-class/blob/main/san/playground/src/Button.san **/
import { defineComponent } from "skypack/san";
import { Button } from "@atomic-class/playground/san-components";

export default defineComponent({
  template: \`
  <div>
    <ac-button text="Please Press A" keycode="65" ></ac-button>
    <ac-button text="Please Press B" keycode="66" state="disabled" ></ac-button>
    <ac-button text="Please Press C" keycode="67" ></ac-button>
  </div>
  \`,
  components: { "ac-button": Button },
  initData() {
    return {};
  },
});`,Te={button:xe},je=`<script>
  /** https://github.com/design-to-release/atomic-class/blob/main/svelte/demo/Button.svelte **/
  import { Button } from '@atomic-class/playground/svelte-components';
  import { onMount } from 'svelte';
  onMount(() => { /** startup **/ });
<\/script>

<Button keycode=65 text="Please Press A"></Button>
<Button keycode=66 text="Please Press B" state="disabled"></Button>
<Button keycode=67 text="Please Press C"></Button>

<style>
</style>
`,Ne={button:je},ue={san:Te,svelte:Ne};function he(o,t,e){const n=o.slice();return n[4]=t[e],n}function me(o){let t,e=o[4]+"",n,s;return{c(){t=y("a"),n=F(e),this.h()},l(a){t=S(a,"A",{href:!0,class:!0});var r=I(t);n=$(r,e),r.forEach(_),this.h()},h(){v(t,"href",s=""+(X+"/"+o[2]+"/"+o[4])),v(t,"class","link svelte-1rdlccc"),J(t,"active",o[1]===o[4])},m(a,r){x(a,t,r),W(t,n)},p(a,r){r&1&&e!==(e=a[4]+"")&&ee(n,e),r&5&&s!==(s=""+(X+"/"+a[2]+"/"+a[4]))&&v(t,"href",s),r&3&&J(t,"active",a[1]===a[4])},d(a){a&&_(t)}}}function Oe(o){let t,e=o[0],n=[];for(let s=0;s<e.length;s+=1)n[s]=me(he(o,e,s));return{c(){t=y("section");for(let s=0;s<n.length;s+=1)n[s].c();this.h()},l(s){t=S(s,"SECTION",{class:!0});var a=I(t);for(let r=0;r<n.length;r+=1)n[r].l(a);a.forEach(_),this.h()},h(){v(t,"class","px-4 py-3 flex flex-col items-center border-r border-gray-100 w-36 text-green-600")},m(s,a){x(s,t,a);for(let r=0;r<n.length;r+=1)n[r].m(t,null)},p(s,[a]){if(a&7){e=s[0];let r;for(r=0;r<e.length;r+=1){const c=he(s,e,r);n[r]?n[r].p(c,a):(n[r]=me(c),n[r].c(),n[r].m(t,null))}for(;r<n.length;r+=1)n[r].d(1);n.length=e.length}},i:B,o:B,d(s){s&&_(t),re(n,s)}}}function Re(o,t,e){let n,s;Q(o,se,c=>e(3,s=c));let{list:a}=t,{actived:r}=t;return o.$$set=c=>{"list"in c&&e(0,a=c.list),"actived"in c&&e(1,r=c.actived)},o.$$.update=()=>{o.$$.dirty&8&&e(2,n=s.params.framework)},[a,r,n,s]}class Me extends O{constructor(t){super();R(this,t,Re,Oe,M,{list:0,actived:1})}}function ge(o,t,e){const n=o.slice();return n[4]=t[e],n[6]=e,n}function _e(o){let t,e,n,s,a=o[4]+"",r,c,h,u;function p(){return o[3](o[6])}return{c(){t=y("div"),e=y("i"),n=A(),s=y("div"),r=F(a),c=A(),this.h()},l(g){t=S(g,"DIV",{class:!0});var m=I(t);e=S(m,"I",{class:!0}),I(e).forEach(_),n=D(m),s=S(m,"DIV",{class:!0});var l=I(s);r=$(l,a),l.forEach(_),c=D(m),m.forEach(_),this.h()},h(){v(e,"class","icon svelte-1qsxw8d"),v(s,"class","content svelte-1qsxw8d"),J(s,"active",o[0]===o[6]),v(t,"class","relative")},m(g,m){x(g,t,m),W(t,e),W(t,n),W(t,s),W(s,r),W(t,c),h||(u=we(t,"click",p),h=!0)},p(g,m){o=g,m&2&&a!==(a=o[4]+"")&&ee(r,a),m&1&&J(s,"active",o[0]===o[6])},d(g){g&&_(t),h=!1,u()}}}function Ae(o){let t,e=o[1],n=[];for(let s=0;s<e.length;s+=1)n[s]=_e(ge(o,e,s));return{c(){t=y("section");for(let s=0;s<n.length;s+=1)n[s].c();this.h()},l(s){t=S(s,"SECTION",{class:!0});var a=I(t);for(let r=0;r<n.length;r+=1)n[r].l(a);a.forEach(_),this.h()},h(){v(t,"class","flex")},m(s,a){x(s,t,a);for(let r=0;r<n.length;r+=1)n[r].m(t,null)},p(s,[a]){if(a&7){e=s[1];let r;for(r=0;r<e.length;r+=1){const c=ge(s,e,r);n[r]?n[r].p(c,a):(n[r]=_e(c),n[r].c(),n[r].m(t,null))}for(;r<n.length;r+=1)n[r].d(1);n.length=e.length}},i:B,o:B,d(s){s&&_(t),re(n,s)}}}function De(o,t,e){let{list:n}=t,{selectedIndex:s=0}=t;const a=ae(),r=c=>{s!==c&&(e(0,s=c),a("selectedchange",{selectedIndex:s}))};return o.$$set=c=>{"list"in c&&e(1,n=c.list),"selectedIndex"in c&&e(0,s=c.selectedIndex)},[s,n,a,r]}class Ve extends O{constructor(t){super();R(this,t,De,Ae,M,{list:1,selectedIndex:0})}}const Y=new Map,z=new Map,ne=new WeakMap,Z=new Map;function Le(o,t){return`${o}${t}`}function Ke(o){let t,e,n,s,a,r;return e=new Ve({props:{list:o[4].map(pe),selectedIndex:z.get(o[3].path)}}),e.$on("selectedchange",o[7]),{c(){t=y("section"),V(e.$$.fragment),n=A(),s=y("section"),this.h()},l(c){t=S(c,"SECTION",{class:!0});var h=I(t);L(e.$$.fragment,h),n=D(h),s=S(h,"SECTION",{class:!0}),I(s).forEach(_),h.forEach(_),this.h()},h(){v(s,"class","flex-grow overflow-auto"),v(t,"class",a="flex flex-col flex-grow "+o[0])},m(c,h){x(c,t,h),K(e,t,null),W(t,n),W(t,s),o[8](s),r=!0},p(c,[h]){const u={};h&16&&(u.list=c[4].map(pe)),h&8&&(u.selectedIndex=z.get(c[3].path)),e.$set(u),(!r||h&1&&a!==(a="flex flex-col flex-grow "+c[0]))&&v(t,"class",a)},i(c){r||(U(e.$$.fragment,c),r=!0)},o(c){H(e.$$.fragment,c),r=!1},d(c){c&&_(t),q(e),o[8](null)}}}const pe=o=>o.name;function Ue(o,t,e){let n,s,a=B,r=()=>(a(),a=ce(h,i=>e(4,s=i)),h);Q(o,se,i=>e(3,n=i)),o.$$.on_destroy.push(()=>a());let{className:c}=t,{editorWindows:h}=t;r();let{refresh:u}=t,p;const g=ae();le(()=>{u.subscribe(()=>{var i;const w=n.path,k=(i=z.get(w))!==null&&i!==void 0?i:0;m(k);const E=l(),T=Y.get(E);Z.has(E)||Z.set(E,T.doc.toString());const j=Z.get(E);g("textchange",{lang:s[k].lang,state:T,source:j})})});function m(i){const w=n.path;z.set(w,i);const k=l();if(!Y.has(k)){const j=s[i].code;Y.set(k,f(j,{lang:s[i].lang}))}const E=Y.get(k);ne.has(E)||ne.set(E,new ie({state:E}));const T=ne.get(E);p.replaceChildren(T.dom)}function l(){var i;const w=n.path;return Le(w,(i=z.get(w))!==null&&i!==void 0?i:0)}function f(i,w){const k=l(),{tabSize:E,create:T}=ve,{updateListener:j}=ie;let d=ye();w.lang==="css"&&(d=ke()),(w.lang==="html"||w.lang==="svelte")&&(d=Ee());const P=[Ce,d,E.of(2),Se.of(Ie),j.of(G=>{if(G.docChanged){const N=G.state,oe=N.doc.toString();Z.set(k,oe),g("textchange",{lang:w.lang,state:N,source:oe})}})];return T({doc:i,extensions:P})}const C=i=>m(i.detail.selectedIndex);function b(i){te[i?"unshift":"push"](()=>{p=i,e(2,p)})}return o.$$set=i=>{"className"in i&&e(0,c=i.className),"editorWindows"in i&&r(e(1,h=i.editorWindows)),"refresh"in i&&e(6,u=i.refresh)},[c,h,p,n,s,m,u,C,b]}class He extends O{constructor(t){super();R(this,t,Ue,Ke,M,{className:0,editorWindows:1,refresh:6})}}function qe(o){let t;return{c(){t=y("section"),this.h()},l(e){t=S(e,"SECTION",{id:!0,class:!0}),I(t).forEach(_),this.h()},h(){v(t,"id","preview"),v(t,"class","h-80 p-4")},m(e,n){x(e,t,n),o[12](t)},p:B,i:B,o:B,d(e){e&&_(t),o[12](null)}}}function ze(o,t,e){let n,s,a,r,c=B,h=()=>(c(),c=ce(f,d=>e(11,r=d)),f);o.$$.on_destroy.push(()=>c());var u,p,g;let{framework:m}=t,{error:l}=t,{editorWindows:f}=t;h();const C={san:E,svelte:T};let b,i,w,k;le(()=>{const d=b.attachShadow({mode:"open"});k=y("link"),k.rel="stylesheet",i=y("section"),e(7,w=y("style")),d.append(k,w,i)});function E(d){k.href=`${X}/packages/playground/san-components/mod.css`,i.replaceChildren(),new d().attach(i)}function T(d){k.href=`${X}/packages/playground/svelte-components/mod.css`;const P=document.createElement("div");i.replaceChildren(P),new d({target:P})}function j(d){te[d?"unshift":"push"](()=>{b=d,e(1,b),e(10,n),e(3,m),e(9,a),e(11,r),e(4,u),e(6,g)})}return o.$$set=d=>{"framework"in d&&e(3,m=d.framework),"error"in d&&e(2,l=d.error),"editorWindows"in d&&h(e(0,f=d.editorWindows))},o.$$.update=()=>{if(o.$$.dirty&2064&&e(10,n=e(4,u=r.filter(d=>d.lang=="js")[0])===null||u===void 0?void 0:u.code),o.$$.dirty&2080&&e(8,s=e(5,p=r.filter(d=>d.lang=="css")[0])===null||p===void 0?void 0:p.code),o.$$.dirty&2112&&e(9,a=e(6,g=r.filter(d=>d.lang=="svelte")[0])===null||g===void 0?void 0:g.code),o.$$.dirty&1032&&typeof n=="string"){const d=`data:text/javascript;charset=utf-8,${encodeURIComponent(n)}`;de(()=>import(d),[]).then(({default:P})=>{e(2,l=void 0),e(1,b.innerHTML="",b),C[m](P)}).catch(P=>e(2,l=P))}if(o.$$.dirty&520&&typeof a=="string"){const{js:d,css:P}=We(a,Object.assign({},{},{filename:"app.svelte"}));console.log(d.code);const G=`data:text/javascript;charset=utf-8,${encodeURIComponent(d.code)}`;de(()=>import(G),[]).then(({default:N})=>{e(2,l=void 0),e(1,b.innerHTML="",b),C[m](N)}).catch(N=>e(2,l=N))}o.$$.dirty&384&&w&&e(7,w.textContent=s,w)},[f,b,l,m,u,p,g,w,s,a,n,r,j]}class Ge extends O{constructor(t){super();R(this,t,ze,qe,M,{framework:3,error:2,editorWindows:0})}}function be(o){let t,e=o[0].message+"",n;return{c(){t=y("span"),n=F(e),this.h()},l(s){t=S(s,"SPAN",{class:!0});var a=I(t);n=$(a,e),a.forEach(_),this.h()},h(){v(t,"class","font-bold text-red-800")},m(s,a){x(s,t,a),W(t,n)},p(s,a){a&1&&e!==(e=s[0].message+"")&&ee(n,e)},d(s){s&&_(t)}}}function Je(o){let t,e=o[0]&&be(o);return{c(){t=y("section"),e&&e.c(),this.h()},l(n){t=S(n,"SECTION",{class:!0});var s=I(t);e&&e.l(s),s.forEach(_),this.h()},h(){v(t,"class","flex-shrink-0 h-16 bg-gray-50 text-gray-500 p-3 text-xs")},m(n,s){x(n,t,s),e&&e.m(t,null)},p(n,[s]){n[0]?e?e.p(n,s):(e=be(n),e.c(),e.m(t,null)):e&&(e.d(1),e=null)},i:B,o:B,d(n){n&&_(t),e&&e.d()}}}function Qe(o,t,e){let{error:n}=t;return o.$$set=s=>{"error"in s&&e(0,n=s.error)},[n]}class Xe extends O{constructor(t){super();R(this,t,Qe,Je,M,{error:0})}}function Ye(o){let t,e,n,s,a,r,c,h,u,p;t=new Me({props:{list:o[2],actived:o[1]}});function g(l){o[9](l)}let m={editorWindows:o[4],framework:o[0]};return o[3]!==void 0&&(m.error=o[3]),s=new Ge({props:m}),te.push(()=>Be(s,"error",g)),c=new He({props:{className:"border-b border-t border-gray-200",editorWindows:o[4],refresh:o[5]}}),c.$on("textchange",o[6]),u=new Xe({props:{error:o[3]}}),{c(){V(t.$$.fragment),e=A(),n=y("section"),V(s.$$.fragment),r=A(),V(c.$$.fragment),h=A(),V(u.$$.fragment),this.h()},l(l){L(t.$$.fragment,l),e=D(l),n=S(l,"SECTION",{class:!0});var f=I(n);L(s.$$.fragment,f),r=D(f),L(c.$$.fragment,f),h=D(f),L(u.$$.fragment,f),f.forEach(_),this.h()},h(){v(n,"class","flex flex-col w-full")},m(l,f){K(t,l,f),x(l,e,f),x(l,n,f),K(s,n,null),W(n,r),K(c,n,null),W(n,h),K(u,n,null),p=!0},p(l,[f]){const C={};f&4&&(C.list=l[2]),f&2&&(C.actived=l[1]),t.$set(C);const b={};f&1&&(b.framework=l[0]),!a&&f&8&&(a=!0,b.error=l[3],Pe(()=>a=!1)),s.$set(b);const i={};f&8&&(i.error=l[3]),u.$set(i)},i(l){p||(U(t.$$.fragment,l),U(s.$$.fragment,l),U(c.$$.fragment,l),U(u.$$.fragment,l),p=!0)},o(l){H(t.$$.fragment,l),H(s.$$.fragment,l),H(c.$$.fragment,l),H(u.$$.fragment,l),p=!1},d(l){q(t,l),l&&_(e),l&&_(n),q(s),q(c),q(u)}}}function Ze(o,t,e){let n,s;Q(o,se,f=>e(8,s=f));let a,r,c,h,u=fe([]);Q(o,u,f=>e(10,n=f));const p=fe(0);let g;function m({detail:f}){const{lang:C,source:b}=f;n.filter(i=>i.lang==C).forEach(i=>{i.code=b}),u.set(n)}function l(f){g=f,e(3,g)}return o.$$.update=()=>{if(o.$$.dirty&387){const{framework:f,component:C}=s.params;e(0,a=f),e(1,r=C),e(7,c=ue[a][r]),e(2,h=Object.keys(ue[a]));const b={svelte:[{name:"Svelte",code:c,lang:"svelte"}],san:[{name:"JavaScript",code:c,lang:"js"},{name:"CSS",code:"",lang:"css"}]};u.set(b[a]),p.set(Math.random())}},[a,r,h,g,u,p,m,c,s,l]}class st extends O{constructor(t){super();R(this,t,Ze,Ye,M,{})}}export{st as default};
